%Udarbejdet af Magnus Overby
% Her definerer jeg min "makro" som laver en udregning for mig
\newenvironment{3f-2f}[3]
%{Ik strøm}{hvad du vil have 2f = 0/3f = 1}{Inavn uden ikxf}
{
%bestemmer seperator samt læser lister
\setsepchar{ | }
%\readlist\Nam{#3}
%Her udskiftes komma med punktum
\StrSubstitute{#1}{,}{.}[\I]%
%Da kvadratrod 3 bruges ofte defineres den her.
\FPeval\sqTre{root(2,3)}

%Udregn strømmen henført fra primær til sekundær
\FPeval\ItoF{round(\I * (\sqTre / 2):2)}

%Udregn strømmen henført fra sekundær til primær
\FPeval\ItreF{round(\I * (2 / \sqTre):2)}


\FPifzero{#2}
\begin{equation*}
	\begin{split}
		I_{k2f,#3} = I_{k3f,#3} \cdot \frac{\sqrt{3}}{2} = \I \cdot \frac{\sqrt{3}}{2} = \ItoF
	\end{split}
\end{equation*}
\else
\begin{equation*}
	\begin{split}
		I_{k3f,#3} = I_{k2f,#3} \cdot \frac{2}{\sqrt{3}} = \I \cdot \frac{2}{\sqrt{3}} = \ItreF
	\end{split}
\end{equation*}
\fi
}


